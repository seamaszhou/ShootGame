<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>

    <script type="text/javascript" src="JS/pixi.js"></script>

    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <style media="screen">
      *{padding : 0;
        margin:0}
    </style>

    <script type="text/javascript">
      let type = "WebGL";
      if (!PIXI.utils.isWebGLSupported()) {
        type = "canvas";

      };

      PIXI.utils.sayHello(type);
      // let texture = PIXI.utils.TextureCache["Ellie/GIF/idle.gif"];
      // let sprite = new PIXI.Sprite(texture);

      let app = new PIXI.Application({width:1024,
        height:512,
        antialias: true,
        transparent: false,
        resolution: 1}

      );

      //Full screen
      app.renderer.view.style.position = "absolute";
      app.renderer.view.style.display = "block";
      app.renderer.autoResize = true;
      app.renderer.resize(window.innerWidth, window.innerHeight);
      app.renderer.backgroundColor = 0x34495e;

      //






      document.body.appendChild(app.view)
      PIXI.loader
      .add("Ellie/Frames/Ellie frame_idle_0.png")
      .add("Ellie/Frames/Ellie frame_idle_1.png")
      .add("Ellie/Frames/Ellie frame_idle_2.png")
      .add("Ellie/Frames/Ellie frame_idle_3.png")
      .add("Ellie/Frames/Ellie frame_run_00.png")
      .add("Ellie/Frames/Ellie frame_run_01.png")
      .add("Ellie/Frames/Ellie frame_run_02.png")
      .add("Ellie/Frames/Ellie frame_run_03.png")
      .add("Ellie/Frames/Ellie frame_run_04.png")
      .add("Ellie/Frames/Ellie frame_run_05.png")
      .add("Ellie/Frames/Ellie frame_run_06.png")
      .add("Ellie/Frames/Ellie frame_run_07.png")
      .add("Ellie/Frames/Ellie frame_run_08.png")
      .add("Ellie/Frames/Ellie frame_run_09.png")
      .add("Ellie/Frames/Ellie frame_run_10.png")
      .add("Ellie/Frames/Ellie frame_run_11.png")
      .add("Ellie/Frames/Ellie frame_run_12.png")
      .on("progress", loadProgress)
      .load(setup);
      //monitor loading progress
      function loadProgress(loader, resource){
        console.log("loading" + resource.url);

        console.log("progress" + loader.progress + "%");
      }
      function setup(){
        //idle
        let Ellie_spirit  = "Ellie/Frames/", idle_array = [];
        for (let $e = 0; $e < 3; $e++){
          idle_array.push(Ellie_spirit + "Ellie frame_idle_"+($e+1)+".png");
        }

        //run
        let run_array = [];
        for (let $e = 0; $e < 12; $e++){
          run_array.push(Ellie_spirit + "Ellie frame_run_"+($e+1)+".png");
        }


        // let Ellie = new PIXI.Sprite(PIXI.loader.resources["Ellie/Frames/Ellie frame_idle_0.png"].texture);
        let Ellie = new PIXI.extras.AnimatedSprite.fromImages(idle_array)
        let Ellie_run = new PIXI.extras.AnimatedSprite.fromImages(run_array)
        app.stage.addChild(Ellie, Ellie_run);


        Ellie.animationSpeed = 0.1;
        Ellie.play();
        Ellie.position.set(500,300);

        Ellie_run.animationSpeed = 0.1;
        Ellie_run.play();
        Ellie_run.position.set(500,100);


      };



      //
      // function pageUpdate(){
      //   requestAnimationFrame(pageUpdate);
      //   pixiRender.render(objPixiContainer);
      // }
      //This `setup` function will run when the image has loaded

    </script>

  </body>
</html>
