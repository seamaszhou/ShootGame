<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>

    <script type="text/javascript" src="JS/pixi.js"></script>

    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <style media="screen">
      *{padding : 0;
        margin:0}
    </style>

    <script type="text/javascript">
      let type = "WebGL";
      if (!PIXI.utils.isWebGLSupported()) {
        type = "canvas";

      };

      PIXI.utils.sayHello(type);
      // let texture = PIXI.utils.TextureCache["Ellie/GIF/idle.gif"];
      // let sprite = new PIXI.Sprite(texture);

      let app = new PIXI.Application({width:1024,
        height:512,
        antialias: true,
        transparent: false,
        resolution: 1}

      );

      //Full screen
      app.renderer.view.style.position = "absolute";
      app.renderer.view.style.display = "block";
      app.renderer.autoResize = true;
      app.renderer.resize(window.innerWidth, window.innerHeight);
      app.renderer.backgroundColor = 0x34495e;

      //






      document.body.appendChild(app.view)
      PIXI.loader
      .add("Ellie/Frames/Ellie frame_idle_0.png")
      .add("Ellie/Frames/Ellie frame_idle_1.png")
      .add("Ellie/Frames/Ellie frame_idle_2.png")
      .add("Ellie/Frames/Ellie frame_idle_3.png")
      .on("progress", loadProgress)
      .load(setup);
      //monitor loading progress
      function loadProgress(loader, resource){
        console.log("loading" + resource.url);

        console.log("progress" + loader.progress + "%");
      }
      function setup(){
        let urlPadding = "Ellie/Frames/", Ellie_idle = [];
        for (let $e = 0; $e < 3; $e++){
          Ellie_idle.push(urlPadding + "Ellie frame_idle_"+($e+1)+".png");
        }

        // let Ellie = new PIXI.Sprite(PIXI.loader.resources["Ellie/Frames/Ellie frame_idle_0.png"].texture);
        let Ellie = new PIXI.extras.AnimatedSprite.fromImages(Ellie_idle)

        app.stage.addChild(Ellie);
        Ellie.animationSpeed = 0.1;
        Ellie.play();
        Ellie.position.set(290,297)

      };



      //
      // function pageUpdate(){
      //   requestAnimationFrame(pageUpdate);
      //   pixiRender.render(objPixiContainer);
      // }
      //This `setup` function will run when the image has loaded

    </script>

  </body>
</html>
